services:
  mysql_chat:
    image: mysql:lts
    container_name: mysql_chat
    env_file:
      - var_chat.env
    ports:
      - "3307:3306"
    volumes:
      - mysql_db_chat:/var/lib/mysql

  backend-chat:
    build:
      context: ./chat-service
      dockerfile: Dockerfile
    container_name: backend-chat
    depends_on:
      - backend
    env_file:
      - var_chat.env
    ports:
      - "8082:8080"
    volumes:
      - data_chat:/app/data

volumes:
  mysql_db_chat:
  data_chat:
